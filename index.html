<html>

<head>
    <title>yiyugame</title>
    <meta charset='utf-8' />
    <meta name='renderer' content='webkit' />
    <meta name='viewport' content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no'
    />
    <meta name='apple-mobile-web-app-capable' content='yes' />
    <meta name='full-screen' content='true' />
    <meta name='x5-fullscreen' content='true' />
    <meta name='360-fullscreen' content='true' />
    <meta name='laya' screenorientation='landscape' />
    <meta http-equiv='expires' content='0' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' />
    <meta http-equiv='expires' content='0' />
    <meta http-equiv='Cache-Control' content='no-siteapp' />
</head>

<body bgcolor="#000000">
    <div id="loginDiv">
        <table bgcolor='#1e1e1e' id="loginTable" cellpadding="2" cellspacing="8">
            <tr>
                <td bgcolor="#888888" align="right">账号：</td>
                <td/>
                <input id="account" width="100" height="25" bgcolor="#888888" type="text" value="egret2" />
            </tr>
            </tr>
            <tr>
                <td bgcolor="#888888" align="right">ip地址：</td>
                <td/>
                <select id="ip" onchange="onIpSel()">
                    <option value='http://192.168.1.170:7101' port='5010' selected="true">测试服务器</option>
                    <option value='https://gate-test.hc.xxbox.cn' port='5010'>外网测试服</option>
                    <option value='https://gate.hc.xxbox.cn' port='5010'>外网正式服</option>
                    <option value='http://192.168.1.58:7101' port='5010'>沈勤服务器</option>
                    <option value='http://192.168.1.244:7101' port='5010'>胡苏服务器</option>
                    <option value='' port='5010'>本地单机</option>
                </select>
            </tr>
            <tr>
                <td bgcolor="#888888" align="right">地址：</td>
                <td/>
                <input id="ipadd" width="500" height="25" bgcolor="#888888" type="text" value="" />
            </tr>
            <tr>
                <td bgcolor="#888888" align="right">无用：</td>
                <td/>
                <input id="port" width="100" height="25" bgcolor="#888888" type="text" value="8001" />
            </tr>

            <tr>
                <td bgcolor="#888888" align="right">区号：</td>
                <td/>
                <input id="areaId" width="100" height="25" bgcolor="#888888" type="text" value="1" />
            </tr>

            <tr>
                <td bgcolor="#888888" align="right">指引信息：</td>
                <td/>
                <input id="guideData" width="100" height="25" bgcolor="#888888" type="text" value="1" />
            </tr>

            <tr>
                <td bgcolor="#888888" align="right">验证密钥：</td>
                <td/>
                <input id="loginSig" width="100" height="25" bgcolor="#888888" type="text" value="" />
            </tr>

            <td>
                <button id="btnEnter" onclick="enterGameClick('zh')" center="0">进入游戏</button>
            </td>
        </table>
    </div>
    <script src="main.js"></script>
    <script>
        function onIpSel() {
            var select = document.getElementById('ip');
            var option = select.options[select.selectedIndex];

            var port = option.attributes.port.nodeValue;

            document.getElementById('port').value = port;
            document.getElementById('ipadd').value = option.value;
        }
        var loginArg = {}
        function enterGameClick(lang) {
            loginArg.ip = document.getElementById("ipadd").value;
            loginArg.port = document.getElementById("port").value;
            loginArg.account = document.getElementById("account").value;
            loginArg.loginSig = document.getElementById("loginSig").value;
            loginArg.areaId = document.getElementById("areaId").value;
            loginArg.guideData = document.getElementById("guideData").value;
            loginArg.openGM = true;
            loginArg.api = "";// https://test-api.survivorlegacy.com/api_qa/api
            loginArg.new = false;
            loginArg.lang = lang;
            loginArg.debug = false;//是否在游戏里显示调试列表
            loginArg.gm = 1;
            loginArg.age = 100;
            loginArg.ver = 0;
            loginArg.pf = 1;
            loginArg.pd = 2;
            loginArg.openLang = ["zh","key"];
            loginArg.logUrl = "http://192.168.1.170:7102";
            localStorage.account = loginArg.account;
            var d = document.getElementById("ip");
            localStorage.ipIndex = d.selectedIndex;
            localStorage.areaId = loginArg.areaId;

            var login = document.getElementById("loginDiv");
            document.body.removeChild(login);
            enterGame();

            document.title = d.options[d.selectedIndex].text + "[" + loginArg.ip + "]" + loginArg.account;
        }

        function getLoginArg() {
            var ret = loginArg;
            return ret;
        }
        var cdnArg = { "cdn": "", "binVersion": "" }
        function getCdnArg() {
            return cdnArg;
        }
        function callReLogin() {
            location.reload();
        }

        function showLoadPage() {
            if (true) {
                var nod = document.createElement("style");
                var appid = 2000002;
                var s = "", star = "";
                var pt = window.innerHeight < 470 ? 0 : 119;
                str = "*{margin: 0;}.h5-container-lay div{position:relative;}.h5-container-lay{background: #f3f3f3;position:absolute;}.h5c-row{width:100%}#h5-loading-page-lay{z-index:10000;width:100%;height:100%;position:absolute;top:0px;}#h5-rotate-tip-lay{z-index:10001;width:100%;height:100%;}#h5-loading-page{width:100%;height:100%;background: #343234;}#h5-rotate-tip{width:100%;height:100%;background: #f3f3f3;}#h5-logo-box{padding-top:" + pt + "px}#h5-logo{height:100px;width:237px;margin:0 auto; background-size:contain;background-position:center;}#h5-rotate-box{width:100%; height:100%}#h5-rotate{height:100%;width:100%;margin:0 auto;background-size:151px 61px;background-position:center center;}#h5-slogan-box{padding-top:10px}#h5-loading-box{padding-top:10px}#h5-loading-text{color:#DADADA;font-size:14px;line-height:28px;width:100%;text-align:center;font-weight:bold;font-family:微软雅黑}#h5-loading-text2{color:#989898;font-size:14px;line-height:18px;width:100%;text-align:center;font-family:微软雅黑}#h5-loading-text3{color:#989898;font-size:14px;line-height:28px;width:100%;text-align:center;font-family:微软雅黑}#h5-slogan{width:194px;height:38px;margin:0 auto;" + s + "background-size:cover;}#h5-loading{width:237px;height:4px;margin:23px auto 0;-webkit-border-radius:4.528125px;-moz-border-radius:4.528125px;border-radius:4.528125px;background:#bebebe;}#h5-loading-finish{margin:0;width:0;height:100%;background:#FADA8C;-webkit-border-radius:4.528125px;-moz-border-radius:4.528125px;border-radius:4.528125px;}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@-moz-keyframes rotate{from{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(360deg)}}@-ms-keyframes rotate{from{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(360deg)}}@-o-keyframes rotate{from{-o-transform:rotate(0deg)}to{-o-transform:rotate(360deg)}}#h5-loading-star{width:17px;height:17px;margin:-10.35px 0 0 -10.35px;" + star + "background-size:contain;background-repeat:no-repeatanimation: 1s linear 0s normal none infinite rotate;-webkit-animation:1s linear 0s normal none infinite rotate;}";
                nod.type = "text/css";
                if (nod.styleSheet) {         //ie下
                    nod.styleSheet.cssText = str;
                } else {
                    nod.innerHTML = str;       //或者写成 nod.appendChild(document.createTextNode(str))
                }
                document.getElementsByTagName("head")[0].appendChild(nod);
                wbCss = nod;

                var d = document.createElement("div");
                d.id = "h5-loading-page-lay";
                d.class = "h5-container-lay";

                d.innerHTML = '<div id="h5-loading-page"><div id="h5-logo-box" class="h5c-row"><div id="h5-logo"></div></div><div id="h5-slogan-box" class="h5c-row"><div id="h5-slogan"></div></div><div id="h5-loading-box" class="h5c-row"><div id="h5-loading-text">抵制不良游戏，拒绝盗版游戏。<br>注意自我保护，谨防受骗上当。<br>适度游戏益脑，沉迷游戏伤身。<br>合理安排时间，享受健康生活。<br>注意适度娱乐，游戏理性消费。<br></div><div id="h5-loading-text2"><br>本网络游戏适合年满18周岁以上的用户使用；请您确定已如实<br>进行实名注册；为了您的健康，请合理控制游戏时间</div><div id="h5-loading-text3"><br>首次加载时间稍长,请耐心等待	...<br><font color="#00ff00" size="1"><span id="loadingFile"></span></font></div><div id="h5-loading"><div id="h5-loading-finish"></div><div id="h5-loading-star"></div></div></div></div>';
                document.body.appendChild(d);
            }
        }


        function showLoadProgress(v, str, nv) {
            var d = document.getElementById("h5-loading-finish");
            if (!d) {
                showLoadPage();
            }
            if (true) {
                var d = document.getElementById("h5-loading-finish");
                var w = v / 100 * 237;
                d.style.width = w + "px";
                d = document.getElementById("h5-loading-star");
                d.style.marginLeft = (w - 10.35) + "px";
            } else {
                var d = document.getElementById("loadValue");
                d.style.width = v + "%";
                var span = document.getElementById("progressValue");
                span.innerHTML = v;
            }
            var sFont = document.getElementById('loadingFile');
            sFont.innerHTML = str;
        }
        var isShowGame;

        function showGame() {
            isShowGame = true;
            var d = document.getElementById("h5-loading-page-lay");
            if (d) {
                document.body.removeChild(d);
            }
        }
        if (localStorage.account) {
            var d = document.getElementById("account");
            d.value = localStorage.account;
        }
        var ipIndex = 0;
        if (localStorage.ipIndex) {
            ipIndex = localStorage.ipIndex;
        }
        var d = document.getElementById("ip");
        var o = d.options[ipIndex];
        if (o) {
            o.selected = true;
            onIpSel();
        }
        if (localStorage.areaId) {
            var d = document.getElementById("areaId");
            d.value = localStorage.areaId;
        }
    </script>

</body>

</html>